<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë‚´ ëŒ€í•™ìƒí™œë¡œ ì•Œì•„ë³´ëŠ” ê±°ì¸</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <style>
    /* ===== ë°°ê²½: ì›ë³¸ ëª…ë„ ê·¸ëŒ€ë¡œ ===== */
    body{
      margin:0;
      font-family:Arial,"Noto Sans KR",sans-serif;
      background:url("img/bg.jpg") no-repeat center center fixed;
      background-size:cover;
    }
    .overlay{
      min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      padding:20px;
      background:none; /* ì—°í•œ ì˜¤ë²„ë ˆì´ ì œê±° */
    }

    /* ===== ìƒë‹¨ ê³ ì • ë¡œê³ (ì‹œì‘/ì„¤ë¬¸ì—ì„œë§Œ ë³´ì„) ===== */
    #globalLogo{
      position:fixed; top:28px; left:50%; transform:translateX(-50%);
      width:280px; z-index:60;
      filter:drop-shadow(0 2px 6px rgba(0,0,0,.25));
      display:none; /* ì‹œì‘/ì„¤ë¬¸ì—ì„œ í‘œì‹œ, ê²°ê³¼ì—ì„œ ìˆ¨ê¹€ */
    }
    @media (max-width:768px){
      #globalLogo{ width:220px; top:20px; }
    }

    /* ===== ì¹´ë“œ & ê¸°ë³¸ UI (ì—¬ë°± ì¶•ì†Œ + í­ í™•ëŒ€) ===== */
    .card{
      background:#fff; width:100%; max-width:960px;
      padding:16px; border-radius:12px;
      box-shadow:0 4px 10px rgba(0,0,0,.12);
    }
    .center{text-align:center}
    .muted{color:#64748b}
    button{
      padding:12px 18px; border:none; border-radius:8px;
      background:#111827; color:#fff; cursor:pointer;
    }
    button:hover{opacity:.92}

    /* ===== ê²°ê³¼ ë ˆì´ì•„ì›ƒ ===== */
    .result-layout{display:flex; gap:22px; align-items:flex-start}
    .result-layout img{max-width:290px; border-radius:12px}
    /* ë°ìŠ¤í¬í†±: í…ìŠ¤íŠ¸(ì™¼)/ì´ë¯¸ì§€(ì˜¤) */
    @media (min-width:769px){ .result-layout{flex-direction:row-reverse} }
    /* ëª¨ë°”ì¼: ì œëª© ë°”ë¡œ ì•„ë˜ ì´ë¯¸ì§€ ë¨¼ì € */
    @media (max-width:768px){
      .result-layout{flex-direction:column}
      #resultImg{order:-1; max-width:230px; align-self:center}
    }

    /* ===== ë©”ì¸ ê²°ê³¼ ê°•ì¡° ===== */
    #resultTitle{font-size:28px; margin:4px 0 2px}
    #resultQuote{font-weight:900; font-size:24px}

    /* ===== ëŠ¥ë ¥ì¹˜ ì (3ê°œ ì¤‘ ë“í‘œìˆ˜ë§Œí¼ ì±„ì›€) ===== */
    .row{display:flex;justify-content:space-between;align-items:center;border:1px solid #e5e7eb;
      border-radius:10px;padding:10px 12px;margin-top:8px}
    .dots{display:flex;gap:4px}
    .dot{width:10px;height:10px;border-radius:50%;border:1px solid #94a3b8;background:#fff}
    .dot.on{background:#6366f1;border-color:#6366f1}

    /* ===== ë§¤ì¹­ ì„¹ì…˜(ì¶•ì†Œ + ì–¼êµ´ ìœ„ìª½ ìš°ì„  í¬ë¡­) ===== */
    h3.sub{font-size:18px; margin:10px 0 6px}
    .match-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:6px}
    .match{border:1px solid #e5e7eb;border-radius:10px;padding:10px;background:#fafafa; font-size:14px}
    .match img{
      width:100%; height:160px; object-fit:cover; object-position:top center; /* ì–¼êµ´ ìœ„ìª½ ë³´ì´ê²Œ */
      border-radius:8px;
    }
    .match .name{font-weight:700;margin-top:6px}
    .match .why{color:#6b7280;margin-top:4px;line-height:1.35}

    /* ===== ì¢Œí•˜ë‹¨ ê³ ì • ìš”ì†Œë“¤ ===== */
    #resetFab{
      position:fixed; left:18px; bottom:18px; z-index:50;
      background:#111827; color:#fff; border:none; border-radius:999px;
      padding:12px 16px; box-shadow:0 10px 20px rgba(0,0,0,.15);
      display:none; /* ì‹œì‘í™”ë©´ ìˆ¨ê¹€ */
    }
    #spoWarn{
      position:fixed; left:18px; bottom:70px; z-index:40;
      background:#fff; border:1px solid #e5e7eb; border-radius:999px;
      padding:6px 10px; color:#111; font-size:12px; box-shadow:0 4px 10px rgba(0,0,0,.08);
      pointer-events:none;
    }
    /* ===== BGM í† ê¸€ ë²„íŠ¼ (ì¢Œí•˜ë‹¨ ìŠ¤íƒì˜ ìµœìƒë‹¨) ===== */
    #bgmToggle{
      position:fixed; left:18px; bottom:118px; z-index:45;
      background:#fff; color:#111; border:1px solid #e5e7eb; border-radius:999px;
      padding:8px 12px; box-shadow:0 6px 14px rgba(0,0,0,.08);
    }
  </style>
</head>
<body>
  <!-- ìƒë‹¨ ê³ ì • ë¡œê³ (ì‹œì‘/ì„¤ë¬¸ì—ì„œ í‘œì‹œ) -->
  <img id="globalLogo" src="img/logo.jpg" alt="ë¡œê³ ">

  <!-- ë°°ê²½ ìŒì•…: íŒŒì¼ì€ audio/bgm.mp3 ë¡œ ì—…ë¡œë“œ -->
  <audio id="bgm" src="audio/bgm.mp3" preload="auto" loop></audio>

  <div class="overlay">
    <!-- ===== ì‹œì‘ í˜ì´ì§€ ===== -->
    <div id="startPage" class="card center">
      <h1 style="margin:10px 0 6px">ë‚´ ëŒ€í•™ìƒí™œë¡œ ì•Œì•„ë³´ëŠ” ê±°ì¸</h1>
      <button onclick="startQuiz()">ì„¤ë¬¸ ì‹œì‘í•˜ê¸°</button>
    </div>

    <!-- ===== ì„¤ë¬¸ í˜ì´ì§€ ===== -->
    <div id="quizPage" class="card" style="display:none">
      <div class="muted" id="progress" style="margin-bottom:8px"></div>
      <h2 id="question" style="margin-top:4px"></h2>
      <div style="display:flex; flex-direction:column; gap:10px; margin-top:12px">
        <button id="btnA" onclick="answer('A')"></button>
        <button id="btnB" onclick="answer('B')"></button>
      </div>
    </div>

    <!-- ===== ê²°ê³¼ í˜ì´ì§€ ===== -->
    <div id="resultPage" class="card" style="display:none">
      <h2 id="resultTitle"></h2>

      <div class="result-layout" style="margin-top:10px">
        <img id="resultImg" src="" alt="ê±°ì¸ ì´ë¯¸ì§€">
        <div>
          <p id="resultQuote" style="margin:4px 0 10px"></p>
          <p id="resultUniLife" class="muted" style="margin:0 0 8px"></p>
          <div id="statRows"></div>
        </div>
      </div>

      <div style="margin-top:14px">
        <h3 class="sub">ê°™ì´ ëŒ€í•™ìƒí™œí•˜ê¸° ì¢‹ì€ ê±°ì¸</h3>
        <div class="match-grid">
          <div class="match">
            <img id="m1img" alt="ë§¤ì¹­ ê±°ì¸ 1">
            <div class="name" id="m1name"></div>
            <div class="why" id="m1why"></div>
          </div>
          <div class="match">
            <img id="m2img" alt="ë§¤ì¹­ ê±°ì¸ 2">
            <div class="name" id="m2name"></div>
            <div class="why" id="m2why"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ì¢Œí•˜ë‹¨ ê³ ì • ìš”ì†Œ -->
  <div id="spoWarn">âš  ìŠ¤í¬ì¼ëŸ¬ í¬í•¨</div>
  <button id="bgmToggle" onclick="toggleBgm()" title="ë°°ê²½ ìŒì•… í† ê¸€">ğŸ”‡ BGM</button>
  <button id="resetFab" onclick="restart()">ë‹¤ì‹œí•˜ê¸°</button>

  <script>
    /* ===== 9ë¬¸í•­ (ìš”ì²­ ë¬¸êµ¬ ê·¸ëŒ€ë¡œ) ===== */
    const questions = [
      // X: ì‚¬ê³ ë ¥
      {q:"ì–´ë–¤ ìˆ˜ì—…ì„ ë“¤ì„ì§€ ê³ ë¥¼ ë•Œ ë‚˜ëŠ”?", a:"êµìˆ˜ë‹˜ì´ë‚˜ ê°•ì˜ ë¶„ìœ„ê¸°, ê°ì„±ì ì¸ ìš”ì†Œë¥¼ ë¨¼ì € ë³¸ë‹¤", b:"ì»¤ë¦¬í˜ëŸ¼ì´ë‚˜ íš¨ìœ¨ì„±, ì„±ì  ë°˜ì˜ ë¹„ìœ¨ì„ ìš°ì„  ê³ ë ¤í•œë‹¤", type:"X"},
      {q:"ì§„ë¡œë¥¼ ê³ ë¯¼í•  ë•Œ ë‚˜ëŠ”?", a:"â€˜ë‚´ê°€ ë­˜ ì¢‹ì•„í• ê¹Œâ€™ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ìƒê°ì´ íë¥¸ë‹¤", b:"ì·¨ì—… ê°€ëŠ¥ì„±, ì—°ë´‰, ì „ë§ ë“± êµ¬ì²´ì ì¸ ê¸°ì¤€ì„ ì„¸ìš´ë‹¤", type:"X"},
      {q:"ê³¼ì œë¥¼ ì–´ë–¤ ì£¼ì œë¡œ í• ì§€ ì •í•  ë•Œ ë‚˜ëŠ”?", a:"ë‚´ ê°ì •ì´ ë” ëŒë¦¬ëŠ” ì£¼ì œë¥¼ ê³ ë¥¸ë‹¤", b:"ë…¼ë¦¬ì  ê·¼ê±°ê°€ ë” í™•ì‹¤í•œ ì£¼ì œë¥¼ ê³ ë¥¸ë‹¤", type:"X"},
      // Y: í–‰ë™ë ¥
      {q:"ìƒˆë¡œìš´ ë™ì•„ë¦¬ê°€ ë§ˆìŒì— ë“¤ ë•Œ ë‚˜ëŠ”?", a:"ë¨¼ì € ì•Œì•„ë³´ê³  ë°”ë¡œ ì‹ ì²­í•œë‹¤", b:"ëˆ„ê°€ ê°™ì´ ê°€ëŠ”ì§€ ë³´ê³  ê²°ì •í•œë‹¤", type:"Y"},
      {q:"ê³¼ì—ì„œ ìƒê¸´ ë¬¸ì œì— ëŒ€í•´ ë¶ˆë§Œì´ ìƒê¸°ë©´?", a:"ìµëª…ì´ë¼ë„ ì˜ê²¬ì„ ì ê·¹ì ìœ¼ë¡œ ë‚¸ë‹¤", b:"ì¡°ìš©íˆ ìƒí™©ì„ ì§€ì¼œë³´ë©° íŒë‹¨í•œë‹¤", type:"Y"},
      {q:"ë‹¨ì²´í™œë™ì´ ì‹œì‘ë˜ì—ˆì„ ë•Œ ë‚˜ëŠ”?", a:"ì£¼ë„ì ìœ¼ë¡œ ì›€ì§ì´ë©° ì•ì¥ì„œëŠ” í¸ì´ë‹¤", b:"ì£¼ì–´ì§„ ì—­í•  ì•ˆì—ì„œ ë‚´ ëª«ì„ í•´ë‚¸ë‹¤", type:"Y"},
      // Z: ì—ë„ˆì§€ íë¦„
      {q:"ì‹œí—˜ ëë‚œ í›„ ë‚˜ëŠ” ë³´í†µ?", a:"í˜¼ìë§Œì˜ ì‹œê°„ì„ ê°€ì§€ë©° ì¶©ì „í•œë‹¤", b:"ì¹œêµ¬ë“¤ê³¼ ëª¨ì—¬ ì‹œë„ëŸ½ê²Œ í’€ì–´ë²„ë¦°ë‹¤", type:"Z"},
      {q:"ê°ì •ì´ ë³µì¡í•œ ë‚ , ë‚˜ëŠ”?", a:"ì¼ê¸°ë‚˜ ê¸°ë¡ìœ¼ë¡œ ë§ˆìŒì„ ì •ë¦¬í•œë‹¤", b:"ì¹œêµ¬ì—ê²Œ ë§í•˜ë©´ì„œ í’€ê³  ì •ë¦¬ëœë‹¤", type:"Z"},
      {q:"ì‚¬ëŒ ë§ì€ í–‰ì‚¬ì— ê°€ê³  ë‚œ í›„ ë‚˜ëŠ”?", a:"ì—ë„ˆì§€ê°€ ë¹ ì ¸ë‚˜ê°„ ëŠë‚Œ", b:"ì˜¤íˆë ¤ ê¸°ë¶„ì´ ì—…ë˜ê³  í™œê¸°ì°¨ë‹¤", type:"Z"}
    ];

    /* ===== ì´ë¯¸ì§€ & ëª…ëŒ€ì‚¬ ===== */
    const imgByName = {
      "ì§„ê²©ì˜ ê±°ì¸":"img/attack.jpg","ì´ˆëŒ€í˜• ê±°ì¸":"img/colossal.jpg","ì—¬ì„±í˜• ê±°ì¸":"img/female.jpg",
      "ì§ìŠ¹ ê±°ì¸":"img/beast.jpg","ê°‘ì˜· ê±°ì¸":"img/armored.jpg","ì°¨ë ¥ ê±°ì¸":"img/cart.jpg",
      "ì „í‡´ì˜ ê±°ì¸":"img/warhammer.jpg","ë¬´ì§€ì„± ê±°ì¸":"img/mindless.jpg"
    };
    const quote = {
      "ì§„ê²©ì˜ ê±°ì¸":"ìš°ë¦¬ëŠ” ëª¨ë‘ íƒœì–´ë‚¬ì„ ë•Œë¶€í„° ììœ ë‹¤",
      "ì—¬ì„±í˜• ê±°ì¸":"ë‚´ ë„ë°•ì€ ì§€ê¸ˆë¶€í„°ì•¼",
      "ì§ìŠ¹ ê±°ì¸":"ì• ì´ˆì— íƒœì–´ë‚˜ì§€ ì•Šì•˜ë‹¤ë©´, ê³ í†µë°›ì§€ ì•Šì•„ë„ ëì„í…ë°",
      "ì „í‡´ì˜ ê±°ì¸":"ì˜¤ë¼ë²„ë‹ˆ, íƒ€ì´ë²„ ê°€ì˜ ì‚¬ëª…, ì˜ ì™„ìˆ˜í•˜ì…¨ìŠµë‹ˆë‹¤.",
      "ê°‘ì˜· ê±°ì¸":"ë‚´ê°€ ê°‘ì˜· ê±°ì¸ì´ê³  ì´ ë…€ì„ì´ ì´ˆëŒ€í˜• ê±°ì¸ì´ì•¼.",
      "ì´ˆëŒ€í˜• ê±°ì¸":"ë¼ì´ë„ˆ! í•˜ëŠ” ê±°ì§€?! ì§€ê¸ˆÂ·Â·! ì—¬ê¸°ì„œ",
      "ì°¨ë ¥ ê±°ì¸":"ë‚œ ë§ˆë ˆë¥¼ ë¯¿ì§€ ì•Šì•„. ë‚˜ëŠ” í•¨ê»˜ ì‹¸ì›Œì˜¨ ë™ë£Œë“¤ì„ ë¯¿ê³  ìˆì–´.",
      "ë¬´ì§€ì„± ê±°ì¸":"ìš°ì–´ì–´ì–´ì–´"
    };

    /* ===== X-Y-Z â†’ ê±°ì¸ ë§¤í•‘(êµ¬ì–´ì²´ ì´ìœ  í¬í•¨) ===== */
    const profiles = {
      "ê°ì •í˜•-ëŠ¥ë™í˜•-ì™¸ë¶€ë°©ì¶œí˜•": {
        name:"ì§„ê²©ì˜ ê±°ì¸",
        uni:"ì‹ ë…ê³¼ ê°ì •ì´ í–‰ë™ìœ¼ë¡œ ì§ê²°ë˜ëŠ” ì¶”ì§„ê°€. ì‚¬ëŒì„ ëª¨ìœ¼ê³  ìƒˆ íŒì„ ì§ ë‹¤.",
        matches:[
          {name:"ì§ìŠ¹ ê±°ì¸", why:"ë„¤ê°€ ë°€ì–´ë¶™ì¼ ë•Œ, ì´ ì¹œêµ¬ê°€ ì „ëµìœ¼ë¡œ ë°©í–¥ ì¡ì•„ì¤˜."},
          {name:"ì´ˆëŒ€í˜• ê±°ì¸", why:"ë„ˆê°€ ì†ë„ ë‚´ë©´, ì–˜ê°€ ì¼ì •Â·ë¦¬ìŠ¤í¬ ì¡ì•„ì„œ ë§ˆë¬´ë¦¬ê°€ ê¹”ë”í•´."}
        ]
      },
      "ê°ì •í˜•-ëŠ¥ë™í˜•-ë‚´ë¶€ìˆ˜ìš©í˜•": {
        name:"ê°‘ì˜· ê±°ì¸",
        uni:"ì±…ì„ê°ê³¼ ì™„ì„±ë„ë¡œ ë§í•˜ëŠ” ì‹¤ë¬´í˜• ë¦¬ë”. ì•½ì†ì„ ëê¹Œì§€ ì§€í‚¨ë‹¤.",
        matches:[
          {name:"ì§„ê²©ì˜ ê±°ì¸", why:"ì™„ì„±ë„ ì±™ê¸°ëŠ” ë„ˆì—ê²Œ ì—ë„ˆì§€ë‘ ì¶”ì§„ë ¥ ë“¬ë¿ ì‹¤ì–´ì¤˜."},
          {name:"ì „í‡´ì˜ ê±°ì¸", why:"ê¹Šì´ ìˆëŠ” ë¦¬ì„œì¹˜ë¡œ ë””í…Œì¼ê¹Œì§€ ë“ ë“ í•˜ê²Œ ë°›ì³ì¤˜."}
        ]
      },
      "ê°ì •í˜•-ìˆ˜ë™í˜•-ì™¸ë¶€ë°©ì¶œí˜•": {
        name:"ë¬´ì§€ì„± ê±°ì¸",
        uni:"ë¶„ìœ„ê¸°ë¥¼ ì‚´ë¦¬ê³  íŒ€ì˜ ê¸´ì¥ì„ ë‚®ì¶° ì‹œë„ˆì§€ë¥¼ ë§Œë“ ë‹¤.",
        matches:[
          {name:"ì§„ê²©ì˜ ê±°ì¸", why:"ë„¤ê°€ ë¶„ìœ„ê¸° ë„ìš°ë©´, ì´ìª½ì´ íŒì„ ë” í‚¤ì›Œì¤˜ì„œ ì¬ë°Œì–´ì ¸."},
          {name:"ì°¨ë ¥ ê±°ì¸", why:"ì°¨ë¶„íˆ ë¬µë¬µíˆ ë°€ì–´ì¤˜ì„œ ë„¤ í…ì…˜ì´ í—›ëŒì§€ ì•Šì•„."}
        ]
      },
      "ê°ì •í˜•-ìˆ˜ë™í˜•-ë‚´ë¶€ìˆ˜ìš©í˜•": {
        name:"ì „í‡´ì˜ ê±°ì¸",
        uni:"í‘œí˜„ì€ ì ˆì œë˜ì§€ë§Œ ê¹Šì´ íŒŒê³ ë“œëŠ” ê¸°íšÂ·ë¦¬ì„œì¹˜í˜•. ê· í˜•ì„ ì¡ëŠ” í•µì‹¬.",
        matches:[
          {name:"ì´ˆëŒ€í˜• ê±°ì¸", why:"í° í‹€Â·ì¼ì •ì„ ë”± ì¡ì•„ì¤˜ì„œ ë„¤ ë¦¬ì„œì¹˜ê°€ í˜ì„ ë°›ì§€."},
          {name:"ê°‘ì˜· ê±°ì¸", why:"ëê¹Œì§€ ë””í…Œì¼ ë°€ì–´ì¤˜ì„œ ì™„ì„±ë„ê°€ í›… ì˜¬ë¼ê°€."}
        ]
      },
      "ì´ì„±í˜•-ëŠ¥ë™í˜•-ì™¸ë¶€ë°©ì¶œí˜•": {
        name:"ì§ìŠ¹ ê±°ì¸",
        uni:"ì‹¤í—˜Â·ë¦¬ì„œì¹˜Â·ì „ëµ ìˆ˜ë¦½ì˜ ë¸Œë ˆì¸. ì•„ì´ë””ì–´ë¥¼ ì‹¤í–‰ìœ¼ë¡œ ì—°ê²°.",
        matches:[
          {name:"ì°¨ë ¥ ê±°ì¸", why:"ë„¤ ì „ëµì„ ê¾¸ì¤€íˆ ì‹¤í–‰í•´ì„œ ê²°ê³¼ë¡œ ë½‘ì•„ì¤˜."},
          {name:"ì§„ê²©ì˜ ê±°ì¸", why:"ë¶™ìœ¼ë©´ íŒ€ ë™ë ¥ì´ ë¯¸ì¹œ ë“¯ì´ ì˜¤ë¥¸ë‹¤."}
        ]
      },
      "ì´ì„±í˜•-ëŠ¥ë™í˜•-ë‚´ë¶€ìˆ˜ìš©í˜•": {
        name:"ì—¬ì„±í˜• ê±°ì¸",
        uni:"ì •í™•ì„±ê³¼ ê²°ë‹¨ì„ ê²¸ë¹„. ë°ì´í„°ë¡œ ì„¤ë“í•˜ë©° ê²°ê³¼ì˜ ì§ˆ ì¤‘ì‹œ.",
        matches:[
          {name:"ì´ˆëŒ€í˜• ê±°ì¸", why:"í° ê·¸ë¦¼ ì•ˆì •í™”ëŠ” ì´ìª½ì´ ë§¡ê³ , ë„Œ ë‚ ì¹´ë¡­ê²Œ ê²°ë‹¨í•˜ë©´ ë”±ì´ì•¼."},
          {name:"ì°¨ë ¥ ê±°ì¸", why:"ë¹ˆì¹¸ì„ ì•¼ë¬´ì§€ê²Œ ë©”ê¿”ì¤˜ì„œ ë„Œ í•µì‹¬ì— ì§‘ì¤‘ ê°€ëŠ¥."}
        ]
      },
      "ì´ì„±í˜•-ìˆ˜ë™í˜•-ì™¸ë¶€ë°©ì¶œí˜•": {
        name:"ì°¨ë ¥ ê±°ì¸",
        uni:"ì„±ì‹¤í•œ ì‹¤í–‰ê³¼ íŒ€ì›Œí¬ ì¤‘ì‹¬. í¸í•œ í•©ì˜ì ì„ ì°¾ëŠ” ì¤‘ì¬ì.",
        matches:[
          {name:"ì§ìŠ¹ ê±°ì¸", why:"ë°©í–¥ì€ ì§šì–´ì£¼ê³ , ë„ˆëŠ” ê¾¸ì¤€íˆ ë°€ì–´ ì„±ê³¼ ë½‘ëŠ” ì¡°í•©."},
          {name:"ì „í‡´ì˜ ê±°ì¸", why:"ê³µê°Â·ì •ë¦¬ë¥¼ ë§¡ì•„ì¤˜ì„œ íŒ€ ë¶„ìœ„ê¸°ê°€ í¸ì•ˆí•´ì ¸."}
        ]
      },
      "ì´ì„±í˜•-ìˆ˜ë™í˜•-ë‚´ë¶€ìˆ˜ìš©í˜•": {
        name:"ì´ˆëŒ€í˜• ê±°ì¸",
        uni:"ë¶„ì„ê³¼ ì„¤ê³„ì˜ ì•ˆì •ê°. ë³´ì´ì§€ ì•ŠëŠ” ì»¨íŠ¸ë¡¤ íƒ€ì›Œì— ê°•í•¨.",
        matches:[
          {name:"ì „í‡´ì˜ ê±°ì¸", why:"ìë£Œë¡œ ë°›ì³ì£¼ê³ , ë„ˆëŠ” êµ¬ì¡°ë¡œ ë¬¶ìœ¼ë©´ ì™„ë²½."},
          {name:"ì§„ê²©ì˜ ê±°ì¸", why:"ê³„íšì— ì¶”ì§„ë ¥ ë”í•´ì£¼ë©´ ì‹¤ì œë¡œ êµ´ëŸ¬ê°„ë‹¤."}
        ]
      }
    };

    /* ===== ì§„í–‰/ì§‘ê³„(ì •í™• ì¹´ìš´íŒ…) & ë¡œê³ /BGM í‘œì‹œ ì œì–´ ===== */
    let i=0;
    const cnt = { X:{A:0,B:0}, Y:{A:0,B:0}, Z:{A:0,B:0} };

    const elStart  = document.getElementById("startPage");
    const elQuiz   = document.getElementById("quizPage");
    const elResult = document.getElementById("resultPage");
    const fab      = document.getElementById("resetFab");
    const gLogo    = document.getElementById("globalLogo");

    const bgm      = document.getElementById("bgm");
    const bgmBtn   = document.getElementById("bgmToggle");

    // ì‹œì‘ ì‹œ: ë¡œê³  ë…¸ì¶œ
    gLogo.style.display = "block";

    function updateBgmToggle(){
      bgmBtn.textContent = (bgm && !bgm.paused) ? "ğŸ”Š BGM" : "ğŸ”‡ BGM";
    }
    function playBgm(){
      if(!bgm) return;
      bgm.volume = 0.4;                  // ê¸°ë³¸ ìŒëŸ‰
      bgm.play().then(updateBgmToggle).catch(()=>{}); // ëª¨ë°”ì¼ ì •ì±…: ì‚¬ìš©ì í´ë¦­ í›„ OK
    }
    function toggleBgm(){
      if(!bgm) return;
      if (bgm.paused) playBgm();
      else { bgm.pause(); updateBgmToggle(); }
    }
    updateBgmToggle();

    function startQuiz(){
      elStart.style.display="none";
      elQuiz.style.display="block";
      fab.style.display="inline-block";
      gLogo.style.display="block"; // ì„¤ë¬¸ ì¤‘ì—ë„ ë¡œê³  í‘œì‹œ
      playBgm();                   // ì²« ì‚¬ìš©ì í´ë¦­ì—ì„œ ë¸Œê¸ˆ ì‹œì‘
      showQuestion();
      window.scrollTo({top:0,behavior:"smooth"});
    }
    function showQuestion(){
      const q=questions[i];
      document.getElementById("progress").innerText=`ë¬¸í•­ ${i+1} / ${questions.length}`;
      document.getElementById("question").innerText=q.q;
      document.getElementById("btnA").innerText="A. "+q.a;
      document.getElementById("btnB").innerText="B. "+q.b;
    }
    function answer(choice){
      const axis=questions[i].type;
      if(choice==="A") cnt[axis].A++; else cnt[axis].B++;
      i++;
      if(i<questions.length) showQuestion(); else showResult();
      window.scrollTo({top:0,behavior:"smooth"});
    }

    function pick(axis){
      const c=cnt[axis];
      if(axis==="X"){ // A=ê°ì •í˜•, B=ì´ì„±í˜•
        return (c.A>=c.B) ? {label:"ê°ì •í˜•",dots:c.A} : {label:"ì´ì„±í˜•",dots:c.B};
      }
      if(axis==="Y"){ // A=ëŠ¥ë™í˜•, B=ìˆ˜ë™í˜•
        return (c.A>=c.B) ? {label:"ëŠ¥ë™í˜•",dots:c.A} : {label:"ìˆ˜ë™í˜•",dots:c.B};
      }
      // Z â€” A=ë‚´ë¶€ìˆ˜ìš©í˜•, B=ì™¸ë¶€ë°©ì¶œí˜•
      return (c.A>=c.B) ? {label:"ë‚´ë¶€ìˆ˜ìš©í˜•",dots:c.A} : {label:"ì™¸ë¶€ë°©ì¶œí˜•",dots:c.B};
    }
    function dots(n){
      let h='<div class="dots">';
      for(let k=0;k<3;k++) h+=`<span class="dot ${k<n?'on':''}"></span>`;
      return h+'</div>';
    }

    function showResult(){
      elQuiz.style.display="none";
      elResult.style.display="block";
      fab.style.display="inline-block";
      gLogo.style.display="none"; // ê²°ê³¼ì—ì„œëŠ” ìƒë‹¨ ë¡œê³  ìˆ¨ê¹€

      const px=pick("X"), py=pick("Y"), pz=pick("Z");
      const key=`${px.label}-${py.label}-${pz.label}`;
      const prof=profiles[key];
      const main=prof.name;

      document.getElementById("resultTitle").innerText=`ë‹¹ì‹ ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ê±°ì¸ì€: ${main}`;
      document.getElementById("resultImg").src=imgByName[main];
      document.getElementById("resultQuote").innerText="â€œ"+(quote[main]||"")+"â€";
      document.getElementById("resultUniLife").innerText=prof.uni;

      // ìš°ì„¸í•œ ê²ƒë§Œ 3ì¤„
      document.getElementById("statRows").innerHTML = `
        <div class="row"><b>${px.label}</b>${dots(px.dots)}</div>
        <div class="row"><b>${py.label}</b>${dots(py.dots)}</div>
        <div class="row"><b>${pz.label}</b>${dots(pz.dots)}</div>
      `;

      // ë§¤ì¹­ 2ì¢…(ì¶•ì†Œ + ìœ„ìª½ í¬ë¡­ + êµ¬ì–´ì²´ ì´ìœ )
      const m1=prof.matches[0], m2=prof.matches[1];
      document.getElementById("m1name").innerText=m1.name;
      document.getElementById("m1img").src=imgByName[m1.name];
      document.getElementById("m1why").innerText=m1.why;

      document.getElementById("m2name").innerText=m2.name;
      document.getElementById("m2img").src=imgByName[m2.name];
      document.getElementById("m2why").innerText=m2.why;

      updateBgmToggle(); // ìƒíƒœ í‘œì‹œ ì—…ë°ì´íŠ¸
    }

    function restart(){
      i=0; cnt.X.A=cnt.X.B=cnt.Y.A=cnt.Y.B=cnt.Z.A=cnt.Z.B=0;
      elResult.style.display="none";
      elQuiz.style.display="none";
      elStart.style.display="block";
      fab.style.display="none";
      gLogo.style.display="block"; // ì‹œì‘ìœ¼ë¡œ ëŒì•„ì˜¤ë©´ ë¡œê³  ë‹¤ì‹œ í‘œì‹œ
      // ë¸Œê¸ˆì€ ê³„ì† ì¬ìƒ(ì›í•˜ë©´ ì•„ë˜ ë‘ ì¤„ ì£¼ì„ í•´ì œ)
      // bgm.pause(); bgm.currentTime=0; updateBgmToggle();
      window.scrollTo({top:0,behavior:"smooth"});
    }
  </script>
</body>
</html>
